
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Statistics</title>
    <script src="https://cdn.jsdelivr.net/npm/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/StephanWagner/svgMap@v2.7.2/dist/svgMap.min.js"></script>
    <link href="https://cdn.jsdelivr.net/gh/StephanWagner/svgMap@v2.7.2/dist/svgMap.min.css" rel="stylesheet">
</head>
<body>
    <div id="svgMap"></div>
    <script>
        // Function to fetch JSON data
        async function fetchData() {
            const response = await fetch('stat.json');
            if (!response.ok) {
                throw new Error('Network response was not ok');
            }
            return await response.json();
        }

        // Initialize the svgMap
        async function initSvgMap() {
            try {
                const data = await fetchData();
                new svgMap({
                    targetElementID: 'svgMap',
                    data: {
                        data: {
                            totalUsers: {
                                name: 'Users',
                                thousandSeparator: ',',
                                format: '{0}'
                            },
                            totalQueries: {
                                name: 'Queries',
                                format: '{0}',
                                thousandSeparator: ',',
                                thresholdMax:10000,
                                thresholdMin:1000
                            },
                            top1Diseases: {
                                name: '1. ',
                                format: '{0}'
                            },
                            top2Diseases: {
                                name: '2. ',
                                format: '{0}'
                            },
                            top3Diseases: {
                                name: '3. ',
                                format: '{0}'
                            },
                            top4Diseases: {
                                name: '4. ',
                                format: '{0}'
                            },
                            top5Diseases: {
                                name: '5. ',
                                format: '{0}'
                            },
                            top6Diseases: {
                                name: '6. ',
                                format: '{0}'
                            },
                            top7Diseases: {
                                name: '7. ',
                                format: '{0}'
                            },
                            top8Diseases: {
                                name: '8. ',
                                format: '{0}'
                            },
                            top9Diseases: {
                                name: '9. ',
                                format: '{0}'
                            },
                            top10Diseases: {
                                name: '10. ',
                                format: '{0}'
                            },
                            top11Diseases: {
                                name: '11. ',
                                format: '{0}'
                            },
                            top12Diseases: {
                                name: '12. ',
                                format: '{0}'
                            },
                            top13Diseases: {
                                name: '13. ',
                                format: '{0}'
                            },
                            top14Diseases: {
                                name: '14. ',
                                format: '{0}'
                            },
                            top15Diseases: {
                                name: '15. ',
                                format: '{0}'
                            }

                        },
                        applyData: 'totalUsers',
                        values: data // Use fetched data here
                    }
                });
            } catch (error) {
                console.error('Error fetching or initializing svgMap:', error);
            }
        }

        // Call the function to initialize the svgMap
        initSvgMap();
    </script>

</body>
</html>

